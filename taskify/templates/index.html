<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1"
		/>
		<title>Taskify</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
			crossorigin="anonymous"
		/>
	</head>

	<body style="background-color: #ffdde2">
		{% block content %}
		<section class="vh-100">
			<div class="container py-5 h-100">
				<div class="row d-flex justify-content-center align-items-center h-100">
					<div class="col col-lg-9 col-xl-7">
						<div class="card rounded-3">
							<div class="card-body p-4">
								<h4 class="text-center my-3 pb-3">Taskify</h4>

								<div
									class="row row-cols-lg-auto g-3 justify-content-center align-items-center mb-4 pb-2"
								>
									<div class="col-12">
										<div class="form-outline">Want to Add my task -></div>
									</div>

									<div class="col-12">
										<a href="/todo"
											><button
												type="submit"
												class="btn btn-warning"
											>
												Add
											</button></a
										>
									</div>
								</div>

								{% if todos|length == 0 %}
								<p>No todos found.</p>
								{% else %}
								<ul>
									<table class="table mb-4">
										<thead>
											<tr>
												<th scope="col">No.</th>
												<th scope="col">Todo item</th>
												<th scope="col">Description</th>
												<th scope="col">Actions</th>
											</tr>
										</thead>
										<tbody>
											{% for todo in todos %}
											<tr>
												<th scope="row">{{ todo.id }}</th>
												<td>{{ todo.title }}</td>
												<td>{{ todo.description }}</td>
												<td>{{ todo.progress}}</td>
												<td>
													<a href="/todos/{{ todo.id }}"
														><button
															type="submit"
															class="btn btn-success ms-1"
														>
															Update
														</button></a
													>
												</td>
												<td>
													<form
														action="/todos/delete/{{ todo.id }}"
														method="POST"
													>
														<button
															type="submit"
															class="btn btn-danger"
															onclick="return confirm('Are you sure you want to delete this task?')"
														>
															Delete
														</button>
													</form>
												</td>
											</tr>

											{% endfor %}
										</tbody>
									</table>
								</ul>
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		{% endblock content %}
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
			crossorigin="anonymous"
		></script>
	</body>
</html>
